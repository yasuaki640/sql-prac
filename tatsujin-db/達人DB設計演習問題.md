演習問題1-2

問題1

- 不必要なカラムをselectしすぎていないか調査し、必要なカラムのみselectする
- 実行計画や統計情報からスロークエリを分析し、改善する。
- ハードウェアの性能向上

問題2

- SQLにjoin句を追加する
- APIを２回叩く



演習問題2-1

HPCクラスタリング（nodeを大量にならべ、パフォーマンスを向上させる。

HAクラスタリング（単一障害点をなくす

負荷分散型クラスタリング（ロードバランサー等で各サーバーの負荷を分散させる。

2-3

ピーク時間帯のレスポンスタイムとスループットを算出する。

目標とするレスポンスタイムを決める

目標とするレスポンスタイムから単位時間あたりにどれだけのトランザクションを処理すればよいか計算する。

目標とするtransaction/secを処理できるだけのCPUに換装する



5-1

```sql
SELECT 商品分類.商品分類コード, count(商品.商品コード)
FROM 商品分類, 商品
INNER JOIN ON 商品分類.商品分類コード = 商品.商品分類コード
GROUP BY 商品.商品分類コード
```

```sql
SELECT 支社.支社名, 支店.支店名, 商品.商品名
FROM 支社, 支店, 商品
JOIN ON 支社商品.支社コード = 支社.支社コード
JOIN ON 支社商品.商品コード = 商品.商品コード
```

```sql
SELECT 支店.支店コード, COUNT(*)
FROM 支店, 支店商品
JOIN ON 支店商品.支社コード = 支店.支社コード
AND 支店商品.支店コード = 支店.支店コード
GROUP BY してんｋ
```



7-1

レンジパーティション



8-1

①DBの機能等に依存しない柔軟な実装が可能、細かい仕様にピッタリ合わせた開発が可能、バグを生み出す原因になる。保守性を保つのが困難。車輪の再発明。あらゆる場所に似たようなロジックが分散する

②DBに用意されている機能なのでバグが少ない。自分らで実装する必要がない。コード料が少なくなり保守性の向上が期待できる。デメリットは①の裏返し



8-2

一時テーブルを作るときのコストが無視できない

テーブルが増えすぎてDBの複雑性が上がる？

更新にリソースを割く？

複雑なクエリでもすぐに帰ってくることが期待できる

select * のような形で複雑なクエリの検索を呼び出すことができる。